<!-- build time:Wed Nov 09 2022 02:32:54 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="永不陨落的星辰" href="https://www.yexingcheng.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="永不陨落的星辰" href="https://www.yexingcheng.com/atom.xml"><link rel="alternate" type="application/json" title="永不陨落的星辰" href="https://www.yexingcheng.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="wxapp,ts"><link rel="canonical" href="https://www.yexingcheng.com/wx-app/day2/"><title>微信小程序学习第二天 - 微信小程序 | 永不陨落的星辰 = 永不陨落的星辰</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">微信小程序学习第二天</h1><div class="meta"><span class="item" title="创建时间：2022-11-01 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-11-01T00:00:00+08:00">2022-11-01</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>29k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>26 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">永不陨落的星辰</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipeun65urj20zk0m81ii.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclhpw3lwj20zk0m8gvw.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipey84bjtj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipeudstjqj20zk0m8k3r.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicliierfjj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclfb3vzhj20zk0m8wny.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" itemprop="item" rel="index" title="分类于 微信小程序"><span itemprop="name">微信小程序</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.yexingcheng.com/wx-app/day2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="叶星辰"><meta itemprop="description" content=", 温柔正确的人总是难以生存，因为这个世界既不温柔 也不正确"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="永不陨落的星辰"></span><div class="body md" itemprop="articleBody"><h1 id="8-小程序代码的构成"><a href="#8-小程序代码的构成" class="headerlink" title="8.小程序代码的构成"></a>8.小程序代码的构成</h1><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay8=">https://developers.weixin.qq.com/miniprogram/dev/framework/</span></p><blockquote><p>学习思路，从起步 - 小程序代码构成 开始，如果见到有链接，就跳转过去学习完整的知识</p></blockquote><h2 id="8-1-JSON配置"><a href="#8-1-JSON配置" class="headerlink" title="8.1 JSON配置"></a>8.1 JSON配置</h2><p>JSON 是一种数据格式，并不是编程语言，在小程序中，JSON扮演的静态配置的角色</p><h3 id="8-1-1-小程序的配置-app-json"><a href="#8-1-1-小程序的配置-app-json" class="headerlink" title="8.1.1 小程序的配置 app.json"></a>8.1.1 小程序的配置 app.json</h3><p><code>app.json</code> 是当前小程序的全局配置，包括了小程序的所有页面路径、界面表现、网络超时时间、底部 tab 等</p><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb25maWcuaHRtbA==">https://developers.weixin.qq.com/miniprogram/dev/framework/config.html</span></p><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1s">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html</span></p><p>小程序根目录下的 <code>app.json</code> 文件用来对微信小程序进行全局配置。文件内容为一个 JSON 对象，有以下属性：</p><table><thead><tr><th align="left">属性</th><th align="left">类型</th><th align="left">必填</th><th align="left">描述</th><th align="left">最低版本</th></tr></thead><tbody><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI2VudHJ5UGFnZVBhdGg=">entryPagePath</span></td><td align="left">string</td><td align="left">否</td><td align="left">小程序默认启动首页</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3BhZ2Vz">pages</span></td><td align="left">string[]</td><td align="left">是</td><td align="left">页面路径列表</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3dpbmRvdw==">window</span></td><td align="left">Object</td><td align="left">否</td><td align="left">全局的默认窗口表现</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3RhYkJhcg==">tabBar</span></td><td align="left">Object</td><td align="left">否</td><td align="left">底部 <code>tab</code> 栏的表现</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI25ldHdvcmtUaW1lb3V0">networkTimeout</span></td><td align="left">Object</td><td align="left">否</td><td align="left">网络超时时间</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI2RlYnVn">debug</span></td><td align="left">boolean</td><td align="left">否</td><td align="left">是否开启 debug 模式，默认关闭</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI2Z1bmN0aW9uYWxQYWdlcw==">functionalPages</span></td><td align="left">boolean</td><td align="left">否</td><td align="left">是否启用插件功能页，默认关闭</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.1.0</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3N1YnBhY2thZ2Vz">subpackages</span></td><td align="left">Object[]</td><td align="left">否</td><td align="left">分包结构配置</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">1.7.3</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3dvcmtlcnM=">workers</span></td><td align="left">string</td><td align="left">否</td><td align="left"><code>Worker</code> 代码放置的目录</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">1.9.90</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3JlcXVpcmVkQmFja2dyb3VuZE1vZGVz">requiredBackgroundModes</span></td><td align="left">string[]</td><td align="left">否</td><td align="left">需要在后台使用的能力，如「音乐播放」</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3BsdWdpbnM=">plugins</span></td><td align="left">Object</td><td align="left">否</td><td align="left">使用到的插件</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">1.9.6</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3ByZWxvYWRSdWxl">preloadRule</span></td><td align="left">Object</td><td align="left">否</td><td align="left">分包预下载规则</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.3.0</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3Jlc2l6YWJsZQ==">resizable</span></td><td align="left">boolean</td><td align="left">否</td><td align="left">PC 小程序是否支持用户任意改变窗口大小（包括最大化窗口）；iPad 小程序是否支持屏幕旋转。默认关闭</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.3.0</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3VzaW5nQ29tcG9uZW50cw==">usingComponents</span></td><td align="left">Object</td><td align="left">否</td><td align="left">全局<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jdXN0b20tY29tcG9uZW50Lw==">自定义组件</span>配置</td><td align="left">开发者工具 1.02.1810190</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3Blcm1pc3Npb24=">permission</span></td><td align="left">Object</td><td align="left">否</td><td align="left">小程序接口权限相关设置</td><td align="left">微信客户端 7.0.0</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3NpdGVtYXBMb2NhdGlvbg==">sitemapLocation</span></td><td align="left">string</td><td align="left">是</td><td align="left">指明 sitemap.json 的位置</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3N0eWxl">style</span></td><td align="left">string</td><td align="left">否</td><td align="left">指定使用升级后的 weui 样式</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.8.0</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3VzZWV4dGVuZGVkbGli">useExtendedLib</span></td><td align="left">Object</td><td align="left">否</td><td align="left">指定需要引用的扩展库</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.2.1</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI2VudHJhbmNlRGVjbGFyZQ==">entranceDeclare</span></td><td align="left">Object</td><td align="left">否</td><td align="left">微信消息用小程序打开</td><td align="left">微信客户端 7.0.9</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI2Rhcmttb2Rl">darkmode</span></td><td align="left">boolean</td><td align="left">否</td><td align="left">小程序支持 DarkMode</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.11.0</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3RoZW1lTG9jYXRpb24=">themeLocation</span></td><td align="left">string</td><td align="left">否</td><td align="left">指明 theme.json 的位置，darkmode为 true 为必填</td><td align="left">开发者工具 1.03.2004271</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI2xhenlDb2RlTG9hZGluZw==">lazyCodeLoading</span></td><td align="left">string</td><td align="left">否</td><td align="left">配置自定义组件代码按需注入</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.11.1</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3NpbmdsZVBhZ2U=">singlePage</span></td><td align="left">Object</td><td align="left">否</td><td align="left">单页模式相关配置</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.12.0</span></td></tr><tr><td align="left">supportedMaterials</td><td align="left">Object</td><td align="left">否</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9tYXRlcmlhbC9zdXBwb3J0X21hdGVyaWFsLmh0bWw=">聊天素材小程序打开</span>相关配置</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.14.3</span></td></tr><tr><td align="left">serviceProviderTicket</td><td align="left">string</td><td align="left">否</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vZG9jL29wbGF0Zm9ybS9UaGlyZC1wYXJ0eV9QbGF0Zm9ybXMvMi4wL29wZXJhdGlvbi90aGlyZHBhcnR5L2N1c3RvbWl6ZWRfc2VydmljZV9wbGF0Zm9ybV9ndWlkZWxpbmVzLmh0bWw=">定制化型服务商</span>票据</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI2VtYmVkZGVkQXBwSWRMaXN0">embeddedAppIdList</span></td><td align="left">string[]</td><td align="left">否</td><td align="left">半屏小程序 appId</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.20.1</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI2hhbGZQYWdl">halfPage</span></td><td align="left">Object</td><td align="left">否</td><td align="left">视频号直播半屏场景设置</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.18.0</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI2RlYnVnT3B0aW9ucw==">debugOptions</span></td><td align="left">Object</td><td align="left">否</td><td align="left">调试相关配置</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.22.1</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI2VuYWJsZVBhc3NpdmVFdmVudA==">enablePassiveEvent</span></td><td align="left">Object或boolean</td><td align="left">否</td><td align="left">touch 事件监听是否为 passive</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.24.1</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3Jlc29sdmVBbGlhcw==">resolveAlias</span></td><td align="left">Object</td><td align="left">否</td><td align="left">自定义模块映射规则</td><td align="left"></td></tr></tbody></table><ul><li><strong>entryPagePath</strong></li></ul><p>设置小程序默认的启动页面，如果不作设置，那么将会取pages数组 的第一项为默认启动项，开发过程中，一般不建议这么使用，你可以使用开发者工具中 添加编译模式 快速解决问题</p><p><img data-src="/wx-app/day2/13.png" alt="image-20220530113321490"></p><p><img data-src="/wx-app/day2/14.png" alt="image-20220530113402566"></p><ul><li><strong>pages</strong></li></ul><p>用于指定小程序由哪些页面组成，每一项都对应一个页面的 路径（含文件名） 信息。文件名不需要写文件后缀，框架会自动去寻找对应位置的 <code>.json</code>, <code>.js</code>, <code>.wxml</code>, <code>.wxss</code> 四个文件进行处理。</p><p>如何给小程序快速添加页面,写好页面后直接保存即可</p><pre><code class="json">&#123;
 &quot;pages&quot;:[
    &quot;pages/home/home&quot;,
    &quot;pages/index/index&quot;,
    &quot;pages/logs/logs&quot;,
    &quot;pages/kind/kind&quot;,
    &quot;pages/cart/cart&quot;,
    &quot;pages/user/user&quot;
  ],
  ...
&#125;
</code></pre><ul><li><strong>window</strong></li></ul><p>用于设置小程序的状态栏、导航条、标题、窗口背景色。</p><table><thead><tr><th align="left">属性</th><th align="left">类型</th><th align="left">默认值</th><th align="left">描述</th><th align="left">最低版本</th></tr></thead><tbody><tr><td align="left">navigationBarBackgroundColor</td><td align="left">HexColor</td><td align="left">#000000</td><td align="left">导航栏背景颜色，如 <code>#000000</code></td><td align="left"></td></tr><tr><td align="left">navigationBarTextStyle</td><td align="left">string</td><td align="left">white</td><td align="left">导航栏标题颜色，仅支持 <code>black</code> &#x2F; <code>white</code></td><td align="left"></td></tr><tr><td align="left">navigationBarTitleText</td><td align="left">string</td><td align="left"></td><td align="left">导航栏标题文字内容</td><td align="left"></td></tr><tr><td align="left">navigationStyle</td><td align="left">string</td><td align="left">default</td><td align="left">导航栏样式，仅支持以下值： <code>default</code> 默认样式 <code>custom</code> 自定义导航栏，只保留右上角胶囊按钮。参见注 2。</td><td align="left">iOS&#x2F;Android 微信客户端 6.6.0，Windows 微信客户端不支持</td></tr><tr><td align="left">backgroundColor</td><td align="left">HexColor</td><td align="left">#ffffff</td><td align="left">窗口的背景色</td><td align="left"></td></tr><tr><td align="left">backgroundTextStyle</td><td align="left">string</td><td align="left">dark</td><td align="left">下拉 loading 的样式，仅支持 <code>dark</code> &#x2F; <code>light</code></td><td align="left"></td></tr><tr><td align="left">backgroundColorTop</td><td align="left">string</td><td align="left">#ffffff</td><td align="left">顶部窗口的背景色，仅 iOS 支持</td><td align="left">微信客户端 6.5.16</td></tr><tr><td align="left">backgroundColorBottom</td><td align="left">string</td><td align="left">#ffffff</td><td align="left">底部窗口的背景色，仅 iOS 支持</td><td align="left">微信客户端 6.5.16</td></tr><tr><td align="left">enablePullDownRefresh</td><td align="left">boolean</td><td align="left">false</td><td align="left">是否开启全局的下拉刷新。 详见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29ucHVsbGRvd25yZWZyZXNo">Page.onPullDownRefresh</span></td><td align="left"></td></tr><tr><td align="left">onReachBottomDistance</td><td align="left">number</td><td align="left">50</td><td align="left">页面上拉触底事件触发时距页面底部距离，单位为 px。 详见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29ucmVhY2hib3R0b20=">Page.onReachBottom</span></td><td align="left"></td></tr><tr><td align="left">pageOrientation</td><td align="left">string</td><td align="left">portrait</td><td align="left">屏幕旋转设置，支持 <code>auto</code> &#x2F; <code>portrait</code> &#x2F; <code>landscape</code> 详见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay92aWV3L3Jlc2l6YWJsZS5odG1s">响应显示区域变化</span></td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.4.0</span> (auto) &#x2F; <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.5.0</span> (landscape)</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1sI3Jlc3RhcnRTdHJhdGVneQ==">restartStrategy</span></td><td align="left">string</td><td align="left">homePage</td><td align="left">重新启动策略配置</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.8.0</span></td></tr><tr><td align="left">initialRenderingCache</td><td align="left">string</td><td align="left"></td><td align="left">页面<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay92aWV3L2luaXRpYWwtcmVuZGVyaW5nLWNhY2hlLmh0bWw=">初始渲染缓存</span>配置，支持 <code>static</code> &#x2F; <code>dynamic</code></td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.11.1</span></td></tr><tr><td align="left">visualEffectInBackground</td><td align="left">string</td><td align="left">none</td><td align="left">切入系统后台时，隐藏页面内容，保护用户隐私。支持 <code>hidden</code> &#x2F; <code>none</code></td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.15.0</span></td></tr><tr><td align="left">handleWebviewPreload</td><td align="left">string</td><td align="left">static</td><td align="left">控制<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9wZXJmb3JtYW5jZS90aXBzL3J1bnRpbWVfbmF2Lmh0bWwjXzItNC0lRTYlOEUlQTclRTUlODglQjYlRTklQTIlODQlRTUlOEElQTAlRTglQkQlQkQlRTQlQjglOEIlRTQlQjglQUElRTklQTElQjUlRTklOUQlQTIlRTclOUElODQlRTYlOTclQjYlRTYlOUMlQkE=">预加载下个页面的时机</span>。支持 <code>static</code> &#x2F; <code>manual</code> &#x2F; <code>auto</code></td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.15.0</span></td></tr></tbody></table><pre><code class="json">&#123;
 ...,
 &quot;window&quot;: &#123;
        &quot;navigationBarBackgroundColor&quot;: &quot;#f66&quot;,
        &quot;navigationBarTextStyle&quot;: &quot;white&quot;,
        &quot;navigationBarTitleText&quot;: &quot;嗨购&quot;,
        &quot;navigationStyle&quot;: &quot;default&quot;,
        &quot;homeButton&quot;: true,
        &quot;backgroundColor&quot;: &quot;#123123&quot;,
        &quot;backgroundTextStyle&quot;: &quot;dark&quot;,
        &quot;enablePullDownRefresh&quot;: true,
        &quot;pageOrientation&quot;: &quot;portrait&quot;
      &#125;,
  ....
&#125;
</code></pre><ul><li><strong>tabBar</strong></li></ul><p>如果小程序是一个多 tab 应用（客户端窗口的底部或顶部有 tab 栏可以切换页面），可以通过 tabBar 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。</p><table><thead><tr><th align="left">属性</th><th align="left">类型</th><th align="left">必填</th><th align="left">默认值</th><th align="left">描述</th><th align="left">最低版本</th></tr></thead><tbody><tr><td align="left">color</td><td align="left">HexColor</td><td align="left">是</td><td align="left"></td><td align="left">tab 上的文字默认颜色，仅支持十六进制颜色</td><td align="left"></td></tr><tr><td align="left">selectedColor</td><td align="left">HexColor</td><td align="left">是</td><td align="left"></td><td align="left">tab 上的文字选中时的颜色，仅支持十六进制颜色</td><td align="left"></td></tr><tr><td align="left">backgroundColor</td><td align="left">HexColor</td><td align="left">是</td><td align="left"></td><td align="left">tab 的背景色，仅支持十六进制颜色</td><td align="left"></td></tr><tr><td align="left">borderStyle</td><td align="left">string</td><td align="left">否</td><td align="left">black</td><td align="left">tabbar 上边框的颜色， 仅支持 <code>black</code> &#x2F; <code>white</code></td><td align="left"></td></tr><tr><td align="left">list</td><td align="left">Array</td><td align="left">是</td><td align="left"></td><td align="left">tab 的列表，详见 <code>list</code> 属性说明，最少 2 个、最多 5 个 tab</td><td align="left"></td></tr><tr><td align="left">position</td><td align="left">string</td><td align="left">否</td><td align="left">bottom</td><td align="left">tabBar 的位置，仅支持 <code>bottom</code> &#x2F; <code>top</code></td><td align="left"></td></tr><tr><td align="left">custom</td><td align="left">boolean</td><td align="left">否</td><td align="left">false</td><td align="left">自定义 tabBar，见<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9hYmlsaXR5L2N1c3RvbS10YWJiYXIuaHRtbA==">详情</span></td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.5.0</span></td></tr></tbody></table><p>其中 list 接受一个数组，<strong>只能配置最少 2 个、最多 5 个 tab</strong>。tab 按数组的顺序排序，每个项都是一个对象，其属性值如下：</p><table><thead><tr><th align="left">属性</th><th align="left">类型</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">pagePath</td><td align="left">string</td><td align="left">是</td><td align="left">页面路径，必须在 pages 中先定义</td></tr><tr><td align="left">text</td><td align="left">string</td><td align="left">是</td><td align="left">tab 上按钮文字</td></tr><tr><td align="left">iconPath</td><td align="left">string</td><td align="left">否</td><td align="left">图片路径，icon 大小限制为 40kb，建议尺寸为 81px * 81px，不支持网络图片。 <strong>当 <code>position</code> 为 <code>top</code> 时，不显示 icon。</strong></td></tr><tr><td align="left">selectedIconPath</td><td align="left">string</td><td align="left">否</td><td align="left">选中时的图片路径，icon 大小限制为 40kb，建议尺寸为 81px * 81px，不支持网络图片。 <strong>当 <code>position</code> 为 <code>top</code> 时，不显示 icon。</strong></td></tr></tbody></table><blockquote><p>如何获取项目需要的图片</p><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuaWNvbmZvbnQuY24v">https://www.iconfont.cn/</span></p><p>搜索图标 - 加入购物车 - 点击购物车 - 下载素材</p><p>输入颜色 #333333 和 #ff6666。选择大小为81px，下载png图片即可</p></blockquote><pre><code class="json">&#123;
 ...,
 &quot;tabBar&quot;: &#123;
        &quot;color&quot;: &quot;#333&quot;,
        &quot;selectedColor&quot;: &quot;#f66&quot;,
        &quot;backgroundColor&quot;: &quot;#efefef&quot;,
        &quot;borderStyle&quot;: &quot;black&quot;,
        &quot;list&quot;: [
          &#123;
            &quot;pagePath&quot;: &quot;pages/home/home&quot;,
            &quot;text&quot;: &quot;首页&quot;,
            &quot;iconPath&quot;: &quot;resources/tabBar/home.png&quot;,
            &quot;selectedIconPath&quot;: &quot;resources/tabBar/home_active.png&quot;
          &#125;,
          &#123;
            &quot;pagePath&quot;: &quot;pages/kind/kind&quot;,
            &quot;text&quot;: &quot;分类&quot;,
            &quot;iconPath&quot;: &quot;resources/tabBar/kind.png&quot;,
            &quot;selectedIconPath&quot;: &quot;resources/tabBar/kind_active.png&quot;
          &#125;,
          &#123;
            &quot;pagePath&quot;: &quot;pages/cart/cart&quot;,
            &quot;text&quot;: &quot;购物车&quot;,
            &quot;iconPath&quot;: &quot;resources/tabBar/cart.png&quot;,
            &quot;selectedIconPath&quot;: &quot;resources/tabBar/cart_active.png&quot;
          &#125;,
          &#123;
            &quot;pagePath&quot;: &quot;pages/user/user&quot;,
            &quot;text&quot;: &quot;我的&quot;,
            &quot;iconPath&quot;: &quot;resources/tabBar/user.png&quot;,
            &quot;selectedIconPath&quot;: &quot;resources/tabBar/user_active.png&quot;
          &#125;
        ]
      &#125;,
  ...
&#125;
</code></pre><ul><li><strong>networkTimeout</strong></li></ul><p>各类网络请求的超时时间，单位均为毫秒。</p><pre><code class="json">&#123;
 ...,
 &quot;networkTimeout&quot;: &#123;
        &quot;request&quot;: 6000,
        &quot;connectSocket&quot;: 4000,
        &quot;uploadFile&quot;: 600000,
        &quot;downloadFile&quot;: 6000000
      &#125;,
  ....
&#125;
</code></pre><ul><li>debug</li></ul><p>可以在开发者工具中开启 <code>debug</code> 模式，在开发者工具的控制台面板，调试信息以 <code>info</code> 的形式给出，其信息有 Page 的注册，页面路由，数据更新，事件触发等。可以帮助开发者快速定位一些常见的问题。</p><pre><code>&#123;
 ...,
 &quot;debug&quot;: false,
 ....
&#125;
</code></pre><blockquote><p>底部tab选项卡对应的页面，会自动添加类似vue中的 keep-alive的功能，原来的activated 和 deactivated 分别对应小程序中的。onShow 和 onHide</p></blockquote><ul><li><strong>subpackages</strong></li></ul><p>启用<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9zdWJwYWNrYWdlcy5odG1s">分包加载</span>时，声明项目分包结构。</p><blockquote><p>分包加载：</p><ul><li>整个小程序所有分包大小不超过 20M</li><li>单个分包&#x2F;主包大小不能超过 2M</li></ul><p><strong>使用分包</strong></p><p><strong>独立分包</strong></p><pre><code class="json">&quot;subPackages&quot;: [
    &#123;
      &quot;root&quot;: &quot;pckSearch&quot;,
      &quot;name&quot;: &quot;search&quot;,
      &quot;pages&quot;: [
        &quot;pages/search/search&quot;,
        &quot;pages/result/result&quot;
      ],
      &quot;independent&quot;: true 
    &#125;,
    &#123;
      &quot;root&quot;: &quot;pckUser&quot;,
      &quot;name&quot;: &quot;user&quot;,
      &quot;pages&quot;: [
        &quot;pages/login/login&quot;,
        &quot;pages/register/register&quot;
      ]
    &#125;
  ],
  &quot;debug&quot;: true,
</code></pre><blockquote><p><strong>开启debug模式，添加编译模式，调试分包的页面，观察 独立分包和 非独立分包的效果，通过控制台的console查看</strong></p></blockquote><p><strong>分包预下载</strong></p><p>开发者可以通过配置，在进入小程序某个页面时，由框架自动预下载可能需要的分包，提升进入后续分包页面时的启动速度。</p><blockquote><p>做一个电商类型的小程序，大部分的用户一定回去搜索，所以可以把搜索相关业务写到分包，当用户打开主包时，预下载 搜索的分包</p></blockquote><pre><code class="json">&#123;
 ...,
 &quot;subPackages&quot;: [
        &#123;
          &quot;root&quot;: &quot;pckSearch&quot;,
          &quot;name&quot;: &quot;pckSearch&quot;,
          &quot;pages&quot;: [
            &quot;pages/search/search&quot;,
            &quot;pages/result/result&quot;
          ],
          &quot;independent&quot;: true 
        &#125;,
        &#123;
          &quot;root&quot;: &quot;pckUser&quot;,
          &quot;name&quot;: &quot;pckUser&quot;,
          &quot;pages&quot;: [
            &quot;pages/login/login&quot;,
            &quot;pages/register/register&quot;
          ]
        &#125;
      ],
     &quot;preloadRule&quot;: &#123;
       &quot;pages/home/home&quot;: &#123;
         &quot;network&quot;: &quot;all&quot;,
         &quot;packages&quot;: [
          &quot;pckSearch&quot;
         ]
       &#125;
     &#125;,
  ...
&#125;
</code></pre></blockquote><p>整体的全局配置文件如下：</p><pre><code class="json">&#123;
  &quot;pages&quot;: [
    &quot;pages/home/home&quot;,
    &quot;pages/kind/kind&quot;,
    &quot;pages/cart/cart&quot;,
    &quot;pages/user/user&quot;,
    &quot;pages/detail/detail&quot;,
    &quot;pages/index/index&quot;,
    &quot;pages/logs/logs&quot;
  ],
  &quot;window&quot;: &#123;
    &quot;navigationBarBackgroundColor&quot;: &quot;#f66&quot;,
    &quot;navigationBarTextStyle&quot;: &quot;white&quot;,
    &quot;navigationBarTitleText&quot;: &quot;嗨购&quot;,
    &quot;navigationStyle&quot;: &quot;default&quot;,
    &quot;backgroundColor&quot;: &quot;#efefef&quot;,
    &quot;backgroundTextStyle&quot;: &quot;dark&quot;,
    &quot;restartStrategy&quot;: &quot;homePageAndLatestPage&quot;,
    &quot;visualEffectInBackground&quot;: &quot;hidden&quot;
  &#125;,
  &quot;tabBar&quot;: &#123;
    &quot;color&quot;: &quot;#333&quot;,
    &quot;selectedColor&quot;: &quot;#f66&quot;,
    &quot;backgroundColor&quot;: &quot;#efefef&quot;,
    &quot;borderStyle&quot;: &quot;black&quot;,
    &quot;list&quot;: [
      &#123;
        &quot;pagePath&quot;: &quot;pages/home/home&quot;,
        &quot;text&quot;: &quot;首页&quot;,
        &quot;iconPath&quot;: &quot;tabBar/home.png&quot;,
        &quot;selectedIconPath&quot;: &quot;tabBar/home_active.png&quot;
      &#125;,
      &#123;
        &quot;pagePath&quot;: &quot;pages/kind/kind&quot;,
        &quot;text&quot;: &quot;分类&quot;,
        &quot;iconPath&quot;: &quot;tabBar/kind.png&quot;,
        &quot;selectedIconPath&quot;: &quot;tabBar/kind_active.png&quot;
      &#125;,
      &#123;
        &quot;pagePath&quot;: &quot;pages/cart/cart&quot;,
        &quot;text&quot;: &quot;购物车&quot;,
        &quot;iconPath&quot;: &quot;tabBar/cart.png&quot;,
        &quot;selectedIconPath&quot;: &quot;tabBar/cart_active.png&quot;
      &#125;,
      &#123;
        &quot;pagePath&quot;: &quot;pages/user/user&quot;,
        &quot;text&quot;: &quot;我的&quot;,
        &quot;iconPath&quot;: &quot;tabBar/user.png&quot;,
        &quot;selectedIconPath&quot;: &quot;tabBar/user_active.png&quot;
      &#125;
    ]
  &#125;,
  &quot;networkTimeout&quot;: &#123;
    &quot;request&quot;: 6000,
    &quot;connectSocket&quot;: 6000,
    &quot;uploadFile&quot;: 60000,
    &quot;downloadFile&quot;: 60000
  &#125;,
  &quot;subpackages&quot;: [
    &#123;
      &quot;root&quot;: &quot;packageSearch&quot;,
      &quot;name&quot;: &quot;packageSearch&quot;,
      &quot;independent&quot;: true,
      &quot;pages&quot;: [
        &quot;pages/search/search&quot;,
        &quot;pages/result/result&quot;
      ]
    &#125;,
    &#123;
      &quot;root&quot;: &quot;packageUser&quot;,
      &quot;name&quot;: &quot;packageUser&quot;,
      &quot;pages&quot;: [
        &quot;pages/register/register&quot;,
        &quot;pages/login/login&quot;
      ]
    &#125;
  ],
  &quot;preloadRule&quot;: &#123;
    &quot;pages/home/home&quot;: &#123;
      &quot;network&quot;: &quot;all&quot;,
      &quot;packages&quot;: [&quot;packageSearch&quot;]
    &#125;
  &#125;,
  &quot;debug&quot;: false,
  &quot;style&quot;: &quot;v2&quot;,
  &quot;sitemapLocation&quot;: &quot;sitemap.json&quot;
&#125;
</code></pre><h3 id="8-1-2-工具配置-project-config-json"><a href="#8-1-2-工具配置-project-config-json" class="headerlink" title="8.1.2 工具配置 project.config.json"></a>8.1.2 工具配置 project.config.json</h3><h2 id="项目配置文件"><a href="#项目配置文件" class="headerlink" title="项目配置文件"></a>项目配置文件</h2><ol><li>项目根目录中的 <code>project.config.json</code> 和 <code>project.private.config.json</code> 文件可以对项目进行配置，</li><li><code>project.private.config.json</code> 中的相同设置优先级高于 <code>project.config.json</code></li><li>可以在 <code>project.config.json</code> 文件中配置公共的配置，在 <code>project.private.config.json</code> 配置个人的配置，可以将 <code>project.private.config.json</code> 写到 <code>.gitignore</code> 避免版本管理的冲突。</li><li><code>project.private.config.json</code> 中有的字段，开发者工具内的设置修改会优先覆盖 <code>project.private.config.json</code> 的内容。如在 <code>project.private.config.json</code> 有 <code>appid</code> 字段，那么在 详情 - 基本信息 中修改了 appid，会写到 <code>project.private.config.json</code> 中，不会覆盖掉 <code>project.config.json</code> 的 <code>appid</code> 字段的内容</li><li>开发阶段相关的设置修改优先同步到 <code>project.private.config.json</code> 中，但与最终编译产物有关的设置无法在 <code>project.private.config.json</code> 中生效，界面上的改动也不会同步到 <code>project.private.config.json</code> 文件中。详见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcuaHRtbCNzZXR0aW5n">表格</span> 是否允许私有设置。</li></ol><h2 id="一级字段"><a href="#一级字段" class="headerlink" title="一级字段"></a>一级字段</h2><p>可以在项目根目录使用 <code>project.config.json</code> 文件对项目进行配置。</p><table><thead><tr><th align="left">字段名</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">miniprogramRoot</td><td align="left">Path String</td><td align="left">指定小程序源码的目录(需为相对路径)</td></tr><tr><td align="left">qcloudRoot</td><td align="left">Path String</td><td align="left">指定腾讯云项目的目录(需为相对路径)</td></tr><tr><td align="left">pluginRoot</td><td align="left">Path String</td><td align="left">指定插件项目的目录(需为相对路径)</td></tr><tr><td align="left">cloudbaseRoot</td><td align="left">Path String</td><td align="left">云开发代码根目录(需为相对路径)</td></tr><tr><td align="left">cloudfunctionRoot</td><td align="left">Path String</td><td align="left">云函数代码根目录(需为相对路径)</td></tr><tr><td align="left">cloudfunctionTemplateRoot</td><td align="left">Path String</td><td align="left">云函数本地调试请求模板的根目录(需为相对路径)</td></tr><tr><td align="left">cloudcontainerRoot</td><td align="left">Path String</td><td align="left">云托管代码根目录(需为相对路径)</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcuaHRtbCNjb21waWxlVHlwZQ==">compileType</span></td><td align="left">String</td><td align="left">编译类型</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcuaHRtbCNzZXR0aW5n">setting</span></td><td align="left">Object</td><td align="left">项目设置</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcuaHRtbCNsaWJWZXJzaW9u">libVersion</span></td><td align="left">String</td><td align="left">基础库版本</td></tr><tr><td align="left">appid</td><td align="left">String</td><td align="left">项目的 appid</td></tr><tr><td align="left">projectname</td><td align="left">String</td><td align="left">项目名字</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcuaHRtbCNwYWNrT3B0aW9ucw==">packOptions</span></td><td align="left">Object</td><td align="left">打包配置选项</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcuaHRtbCNkZWJ1Z09wdGlvbnM=">debugOptions</span></td><td align="left">Object</td><td align="left">调试配置选项</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcuaHRtbCN3YXRjaE9wdGlvbnM=">watchOptions</span></td><td align="left">Object</td><td align="left">文件监听配置设置</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcuaHRtbCNzY3JpcHRz">scripts</span></td><td align="left">Object</td><td align="left">自定义预处理</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaWdhbWUvZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcjc3RhdGljU2VydmVyT3B0aW9ucw==">staticServerOptions</span></td><td align="left">Object</td><td align="left">仅在小游戏项目中有效</td></tr></tbody></table><h3 id="compileType"><a href="#compileType" class="headerlink" title="compileType"></a>compileType</h3><p>编译类型作用于开发工具的以下设置</p><p><img data-src="/wx-app/day2/image-20221101090136819.png" alt="image-20221101090136819"></p><p>有效值</p><table><thead><tr><th align="left">名字</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">miniprogram</td><td align="left">当前为普通小程序项目</td></tr><tr><td align="left">plugin</td><td align="left">当前为小程序插件项目</td></tr></tbody></table><h3 id="setting"><a href="#setting" class="headerlink" title="setting"></a>setting</h3><p>项目的编译设置，可以指定以下设置。部分设置无法在 <code>project.private.config.json</code> 中生效</p><p>以下字段可以开发者工具 - 详情 - 本地设置可以对应上</p><p><img data-src="/wx-app/day2/image-20221101090621855.png" alt="image-20221101090621855"></p><table><thead><tr><th align="left">字段名</th><th align="left">类型</th><th align="left">允许私有设置[1]</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">es6</td><td align="left">Boolean</td><td align="left">否</td><td align="left">是否启用 es6 转 es5[2]</td></tr><tr><td align="left">enhance</td><td align="left">Boolean</td><td align="left">否</td><td align="left">是否打开增强编译[2]</td></tr><tr><td align="left">postcss</td><td align="left">Boolean</td><td align="left">否</td><td align="left">上传代码时样式是否自动补全</td></tr><tr><td align="left">minified</td><td align="left">Boolean</td><td align="left">否</td><td align="left">上传代码时是否自动压缩脚本文件</td></tr><tr><td align="left">minifyWXSS</td><td align="left">Boolean</td><td align="left">否</td><td align="left">上传代码时是否自动压缩样式文件</td></tr><tr><td align="left">minifyWXML</td><td align="left">Boolean</td><td align="left">否</td><td align="left">上传代码时是否自动压缩 WXML 文件</td></tr><tr><td align="left">uglifyFileName</td><td align="left">Boolean</td><td align="left">否</td><td align="left">上传时进行代码保护</td></tr><tr><td align="left">ignoreUploadUnusedFiles</td><td align="left">Boolean</td><td align="left">否</td><td align="left">上传时是否过滤无依赖文件</td></tr><tr><td align="left">autoAudits</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否自动运行体验评分</td></tr><tr><td align="left">urlCheck</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否检查安全域名和 TLS 版本</td></tr><tr><td align="left">compileHotReLoad</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否开启文件保存后自动热重载</td></tr><tr><td align="left">preloadBackgroundData</td><td align="left">Boolean</td><td align="left">是</td><td align="left">小程序加载时是否数据预拉取</td></tr><tr><td align="left">lazyloadPlaceholderEnable</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否启用懒注入占位组件调试[3]</td></tr><tr><td align="left">useStaticServer</td><td align="left">Boolean</td><td align="left">是</td><td align="left">仅在小游戏项目有效，是否开启静态资源服务器[4]</td></tr><tr><td align="left">bigPackageSizeSupport</td><td align="left">Boolean</td><td align="left">是</td><td align="left">预览及真机调试的时主包、分包体积上限调整为4M（小程序）、8M（小游戏）</td></tr></tbody></table><p>以下字段是开发者工具的隐式设置</p><table><thead><tr><th align="left">字段名</th><th align="left">类型</th><th align="left">允许私有设置[1]</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcuaHRtbCNiYWJlbFNldHRpbmc=">babelSetting</span></td><td align="left">Object</td><td align="left">否</td><td align="left">增强编译下 Babel 的配置项</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL3Byb2plY3Rjb25maWcuaHRtbCN1c2VDb21waWxlclBsdWdpbnM=">useCompilerPlugins</span></td><td align="left">String[] 或 false</td><td align="left">否</td><td align="left">编译插件配置</td></tr><tr><td align="left">disableUseStrict</td><td align="left">Boolean</td><td align="left">否</td><td align="left">将 JS 编译成 ES5 时，是否禁用严格模式</td></tr><tr><td align="left">uploadWithSourceMap</td><td align="left">Boolean</td><td align="left">否</td><td align="left">上传时是否带上 sourcemap（默认为true）</td></tr><tr><td align="left">localPlugins</td><td align="left">Boolean</td><td align="left">否</td><td align="left">在小游戏插件项目中，是否启用 “以本地目录为插件资源来源”[5] 特性</td></tr><tr><td align="left">packNpmManually</td><td align="left">Boolean</td><td align="left">否</td><td align="left">是否手动配置构建 npm 的路径</td></tr><tr><td align="left">packNpmRelationList</td><td align="left">Array</td><td align="left">否</td><td align="left">仅 <code>packNpmManually</code> 为 true 时生效，详细参考<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2RldnRvb2xzL25wbS5odG1s">构建 npm 文档</span></td></tr><tr><td align="left">coverView</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否使用工具渲染 CoverView</td></tr><tr><td align="left">ignoreDevUnusedFiles</td><td align="left">Boolean</td><td align="left">是</td><td align="left">预览、真机调试和本地模拟器等开发阶段是否过滤无依赖文件（默认为true）</td></tr><tr><td align="left">checkInvalidKey</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否展示 JSON 文件校验错误信息</td></tr><tr><td align="left">showShadowRootInWxmlPanel</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否开启调试器 WXML 面板展示 shadow-root</td></tr><tr><td align="left">useIsolateContext</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否开启小程序独立域调试特性[6]</td></tr><tr><td align="left">useMultiFrameRuntime</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否开启模拟器预先载入小程序的某些资源[7]。此设定为 false 时会导致 <code>useIsolateContext</code> 失效</td></tr><tr><td align="left">useApiHook</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否启用 API Hook 功能[8]</td></tr><tr><td align="left">useApiHostProcess</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否在额外的进程处理一些小程序 API[9]</td></tr><tr><td align="left">useLanDebug</td><td align="left">Boolean</td><td align="left">是</td><td align="left">仅在小游戏有效，是否开启局域网调试服务器</td></tr><tr><td align="left">enableEngineNative</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否在游戏引擎项目中开启支持引用 node 原生模块的底层加速特性</td></tr><tr><td align="left">showES6CompileOption</td><td align="left">Boolean</td><td align="left">是</td><td align="left">是否在本地设置中展示传统的 ES6 转 ES5 开关（对应 es6），增强编译开关 （对应 enhance）</td></tr></tbody></table><p><strong>注 1</strong>: 开发阶段相关的设置修改优先同步到 <code>project.private.config.json</code> 中，但最终编译产物有关的设置无法在 <code>project.private.config.json</code> 中生效，界面上的改动也不会同步到 <code>project.private.config.json</code> 文件中。</p><p><strong>注 2</strong>: <code>es6</code> 和 <code>enhance</code> 需同时为 true&#x2F;false，对应于 <code>将 JS 编译成 ES5</code></p><p><strong>注 3</strong>: (<strong>懒注入占位组件调试</strong>) 开启<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9hYmlsaXR5L2xhenlsb2Fk">按需注入</span>后在项目设置面板中会出现对应的勾选项，开启之后，按需注入的组件将会停止注入，页面停止在占位组件状态，便于调试自定义占位组件。</p><p><strong>注 4</strong>: (<strong>静态资源服务器</strong>) 可以托管项目本地的静态资源，主要用于在预览时测试小游戏真机资源加载的效果。</p><p><strong>注 5</strong>: (<strong>以本地目录为插件资源来源</strong>) 启用此特性后，工具将停止从线上获取小游戏插件包内容，并将检验本地相应目录的文件完整性。仅对小游戏插件项目有效。要以本地磁盘目录作为插件的资源来源，需要同时在小游戏插件项目的 game.json 中配置相关的属性。</p><p><strong>注 6</strong>: (<strong>小程序独立域调试</strong>) 一种新的小程序内部代码的执行方式，仅影响工具侧的调试过程。未来将取代传统的执行方式并成为默认选择。仅在 2.11.1 及以上基础库有效。关闭此特性可能有助于规避一些调试中遇到的未知报错。</p><p><strong>注 7</strong>: (<strong>预先载入小程序的某些资源</strong>) 开启此内部特性后，调试时小程序的重新载入可能会更快一些。此设定不影响真机和实际运行效果。</p><p><strong>注 8</strong>: (<strong>API Hook 功能</strong>) 关闭此内部特性可能导致工具的某些调试功能（例如 mock）失效。此设定不影响真机运行效果。</p><p><strong>注 9</strong>: (<strong>额外进程</strong>) 开启此内部特性后，部分 API 的调用会被移到单独的进程以减轻工具主进程的负担。此设定不影响真机运行效果。</p><h4 id="useCompilerPlugins"><a href="#useCompilerPlugins" class="headerlink" title="useCompilerPlugins"></a>useCompilerPlugins</h4><p>编译插件配置，目前支持编译插件有 typescript、less、sass</p><p>如</p><pre><code class="json">&#123;
  &quot;setting&quot;: &#123;
    &quot;useCompilerPlugins&quot;: [
      &quot;typescript&quot;,
      &quot;less&quot;
    ]
  &#125;
&#125;
</code></pre><p>表示项目支持直接使用 typescript 和 less</p><h4 id="babelSetting"><a href="#babelSetting" class="headerlink" title="babelSetting"></a>babelSetting</h4><p><code>将 JS 编译为 ES5</code> 时 Babel 的配置项，其中可以指定以下设置</p><table><thead><tr><th align="left">字段名</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">outputPath</td><td align="left">String</td><td align="left">Babel 辅助函数的输出目录，默认为 <code>@babel/runtime</code></td></tr><tr><td align="left">ignore</td><td align="left">Array<code>&lt;String&gt;</code></td><td align="left">配置需要跳过 Babel 编译(包括代码压缩)处理的文件或目录</td></tr></tbody></table><p><strong>注 1</strong>: 指定文件路径外，还可以指定目录，详见下面项目配置示例</p><h3 id="libVersion"><a href="#libVersion" class="headerlink" title="libVersion"></a>libVersion</h3><p>可以指定项目运行的基础库具体的版本号 也可以 <code>project.config.json</code> 的 <code>libVersion</code> 指定以下值</p><table><thead><tr><th align="left">值</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">latest</td><td align="left">最新的非灰度中的基础库</td></tr><tr><td align="left">trial</td><td align="left">最新的基础库</td></tr><tr><td align="left">widelyUsed</td><td align="left">使用比例最高的基础库</td></tr></tbody></table><p>以上值在 <code>project.private.config.json</code> 文件中无效，因为手动在开发者工具 - 详情 - 本地设置中改变基础库的版本，会覆盖掉 <code>project.private.config.json</code> 的 <code>libVersion</code> 字段</p><h3 id="scripts"><a href="#scripts" class="headerlink" title="scripts"></a>scripts</h3><p>指定自定义预处理的命令</p><table><thead><tr><th align="left">名字</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">beforeCompile</td><td align="left">编译前预处理命令</td></tr><tr><td align="left">beforePreview</td><td align="left">预览前预处理命令</td></tr><tr><td align="left">beforeUpload</td><td align="left">上传前预处理命令</td></tr></tbody></table><h3 id="packOptions"><a href="#packOptions" class="headerlink" title="packOptions"></a>packOptions</h3><p><code>packOptions</code> 用以配置项目在打包过程中的选项。打包是预览、上传时对项目进行的必须步骤。</p><p>目前可以指定 <code>packOptions.include</code> 字段，用以配置打包时需要强制带上的文件（<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9zdHJ1Y3R1cmUuaHRtbCMlRTUlODUlODElRTglQUUlQjglRTQlQjglOEElRTQlQkMlQTAlRTclOUElODQlRTYlOTYlODclRTQlQkIlQjY=">仅限后缀名白名单内</span>）或者文件夹，匹配的这些文件或文件夹将一定会出现在预览或上传的结果内。（该字段的优先级高于 <code>packOptions.ignore</code>）</p><p>同时可以指定 <code>packOptions.ignore</code> 字段，用以配置打包时对符合指定规则的文件或文件夹进行忽略，以跳过打包的过程，这些文件或文件夹将不会出现在预览或上传的结果内。</p><p><code>packOptions.ignore</code> 和 <code>packOptions.include</code> 为一对象数组，对象元素类型如下：</p><table><thead><tr><th align="left">字段名</th><th align="left">类型</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">value</td><td align="left">string</td><td align="left">路径1或取值</td></tr><tr><td align="left">type</td><td align="left">string</td><td align="left">类型</td></tr></tbody></table><p>其中，<code>type</code> 可以取的值为 <code>folder</code>、<code>file</code>、<code>suffix</code>、<code>prefix</code>、<code>regexp</code>2、<code>glob</code>2，分别对应文件夹、文件、后缀、前缀、正则表达式、Glob 规则。所有规则值都会自动忽略大小写。</p><p><strong>注 1</strong>: <code>value</code> 字段的值若表示文件或文件夹路径，以小程序目录 (<code>miniprogramRoot</code>) 为根目录。</p><p><strong>注 2</strong>: <code>regexp</code>、<code>glob</code> 仅 1.02.1809260 及以上版本工具支持。</p><p>示例配置如下。</p><pre><code class="json">&#123;
  &quot;packOptions&quot;: &#123;
    &quot;ignore&quot;: [&#123;
      &quot;type&quot;: &quot;file&quot;,
      &quot;value&quot;: &quot;test/test.js&quot;
    &#125;, &#123;
      &quot;type&quot;: &quot;folder&quot;,
      &quot;value&quot;: &quot;test&quot;
    &#125;, &#123;
      &quot;type&quot;: &quot;suffix&quot;,
      &quot;value&quot;: &quot;.webp&quot;
    &#125;, &#123;
      &quot;type&quot;: &quot;prefix&quot;,
      &quot;value&quot;: &quot;test-&quot;
    &#125;, &#123;
      &quot;type&quot;: &quot;glob&quot;,
      &quot;value&quot;: &quot;test/**/*.js&quot;
    &#125;, &#123;
      &quot;type&quot;: &quot;regexp&quot;,
      &quot;value&quot;: &quot;\\.jsx$&quot;
    &#125;]
  &#125;
&#125;
</code></pre><p><strong>注</strong>: 这部分设置的更改可能需要重新打开项目才能生效。</p><h3 id="debugOptions"><a href="#debugOptions" class="headerlink" title="debugOptions"></a>debugOptions</h3><p><code>debugOptions</code> 用以配置在对项目代码进行调试时的选项。</p><p>目前可以指定 <code>debugOptions.hidedInDevtools</code> 字段，用以配置调试时于调试器 Sources 面板隐藏源代码的文件。</p><p><code>hidedInDevtools</code> 的配置规则和 <code>packOptions.ignore</code> 是一致的。</p><p>当某个 js 文件符合此规则时，调试器 Sources 面板中此文件源代码正文内容将被隐藏，显示为：</p><pre><code class="javascript">// xxx.js has been hided by project.config.json
</code></pre><blockquote><p>注：配置此规则后，可能需要关闭并重新打开项目才能看到效果。</p></blockquote><p><strong>项目配置示例：</strong></p><pre><code class="json">&#123;
  &quot;miniprogramRoot&quot;: &quot;./src&quot;,
  &quot;qcloudRoot&quot;: &quot;./svr&quot;,
  &quot;setting&quot;: &#123;
    &quot;postcss&quot;: true,
    &quot;es6&quot;: true,
    &quot;minified&quot;: true,
    &quot;urlCheck&quot;: false,
    &quot;checkSiteMap&quot;: true,
    &quot;enhance&quot;: true,
    &quot;babelSetting&quot;: &#123;
      &quot;ignore&quot;: [
        &quot;utils/something_not_to_process.js&quot;,
        &quot;miniprogram_npm/*&quot;,
        &quot;utils/already_handle/*&quot;
      ]
    &#125;
  &#125;,
  &quot;packOptions&quot;: &#123;
    &quot;ignore&quot;: []
  &#125;,
  &quot;debugOptions&quot;: &#123;&#125;
&#125;
</code></pre><h3 id="watchOptions"><a href="#watchOptions" class="headerlink" title="watchOptions"></a>watchOptions</h3><p><code>watchOptions</code> 用以配置项目中可以被忽略展示和监听文件变化的文件匹配规则。 部分项目（如游戏项目）其项目文件可能成千上万，其中大部分可能是资源文件，并不是小程序和小游戏代码中关心展示的文件，这些文件在工具开发时可以不需要被开发者关注，因此工具可以增加一个配置去忽略指定的文件和目录，从而不对这些文件进行文件遍历获取和文件内容变更的监听（watch），从而提高开启工具的速度以及减少工具打开占用的内存。</p><p>目前可以指定 <code>watchOptions.ignore</code> 字段，用以配置工具时对符合指定规则的文件或文件夹进行忽略(<code>忽略的文件将不展示在编辑器文件列表和对该文件进行监听</code>），以避免展示和监听项目中不必要的文件内容（这些文件或文件夹不需要去关心文件变化）</p><p><code>watchOptions.ignore</code> 为 <code>glob pattern</code> 字符串数组,具体支持如下：</p><ul><li><ul><li>匹配0到多个字符</li></ul></li><li><p>? 匹配一个字符</p></li><li><p>[…] 匹配一个字符列表，类似正则表达式的字符列表</p></li><li><p>!(pattern|pattern|pattern) 反向匹配括号内的模式</p></li><li><p>?(pattern|pattern|pattern) 匹配0或1个括号内的模式</p></li><li><p>+(pattern|pattern|pattern) 匹配至少1个括号内的模式</p></li><li><p>*(pattern|pattern|pattern) 匹配0到多个括号内的模式</p></li><li><p>@(pattern|pat*|pat?erN) 精确匹配括号内的模式</p></li><li><p>** 匹配0到多个子目录，递归匹配子目录</p></li></ul><p>示例配置如下。</p><p>如下所示</p><pre><code class="json">&#123;
  &quot;description&quot;: &quot;项目配置文件&quot;,
  &quot;watchOptions&quot;: &#123;
     &quot;ignore&quot;: [
        &quot;utils/util.js&quot;,
        &quot;libs/**/**&quot;
     ]
  &#125;
&#125;
</code></pre><p><strong>注 1</strong> : watchOptions.ignore 数组中的值若表示文件或文件夹路径，以项目根目录为基准目录。 <strong>注 2</strong> : 由于文件遍历和 watch 都是在项目启动时执行，因此如果修改了 watchOptions 需要重新打开项目 <strong>注 3</strong>: 该配置仅 1.02.1910220 及以上版本工具支持。</p><h3 id="8-1-3-页面配置-page-json"><a href="#8-1-3-页面配置-page-json" class="headerlink" title="8.1.3 页面配置 page.json"></a>8.1.3 页面配置 page.json</h3><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL3BhZ2UuaHRtbA==">页面配置page.json</span></p><table><thead><tr><th align="left">属性</th><th align="left">类型</th><th align="left">默认值</th><th align="left">描述</th><th align="left">最低版本</th></tr></thead><tbody><tr><td align="left">navigationBarBackgroundColor</td><td align="left">HexColor</td><td align="left">#000000</td><td align="left">导航栏背景颜色，如 <code>#000000</code></td><td align="left"></td></tr><tr><td align="left">navigationBarTextStyle</td><td align="left">string</td><td align="left">white</td><td align="left">导航栏标题颜色，仅支持 <code>black</code> &#x2F; <code>white</code></td><td align="left"></td></tr><tr><td align="left">navigationBarTitleText</td><td align="left">string</td><td align="left"></td><td align="left">导航栏标题文字内容</td><td align="left"></td></tr><tr><td align="left">navigationStyle</td><td align="left">string</td><td align="left">default</td><td align="left">导航栏样式，仅支持以下值： <code>default</code> 默认样式 <code>custom</code> 自定义导航栏，只保留右上角胶囊按钮。</td><td align="left">iOS&#x2F;Android 微信客户端 7.0.0，Windows 微信客户端不支持</td></tr><tr><td align="left">backgroundColor</td><td align="left">HexColor</td><td align="left">#ffffff</td><td align="left">窗口的背景色</td><td align="left"></td></tr><tr><td align="left">backgroundTextStyle</td><td align="left">string</td><td align="left">dark</td><td align="left">下拉 loading 的样式，仅支持 <code>dark</code> &#x2F; <code>light</code></td><td align="left"></td></tr><tr><td align="left">backgroundColorTop</td><td align="left">string</td><td align="left">#ffffff</td><td align="left">顶部窗口的背景色，仅 iOS 支持</td><td align="left">微信客户端 6.5.16</td></tr><tr><td align="left">backgroundColorBottom</td><td align="left">string</td><td align="left">#ffffff</td><td align="left">底部窗口的背景色，仅 iOS 支持</td><td align="left">微信客户端 6.5.16</td></tr><tr><td align="left">enablePullDownRefresh</td><td align="left">boolean</td><td align="left">false</td><td align="left">是否开启当前页面下拉刷新。 详见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29ucHVsbGRvd25yZWZyZXNo">Page.onPullDownRefresh</span></td><td align="left"></td></tr><tr><td align="left">onReachBottomDistance</td><td align="left">number</td><td align="left">50</td><td align="left">页面上拉触底事件触发时距页面底部距离，单位为px。 详见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29ucmVhY2hib3R0b20=">Page.onReachBottom</span></td><td align="left"></td></tr><tr><td align="left">pageOrientation</td><td align="left">string</td><td align="left">portrait</td><td align="left">屏幕旋转设置，支持 <code>auto</code> &#x2F; <code>portrait</code> &#x2F; <code>landscape</code> 详见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay92aWV3L3Jlc2l6YWJsZS5odG1s">响应显示区域变化</span></td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.4.0</span> (auto) &#x2F; <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.5.0</span> (landscape)</td></tr><tr><td align="left">disableScroll</td><td align="left">boolean</td><td align="left">false</td><td align="left">设置为 <code>true</code> 则页面整体不能上下滚动。 只在页面配置中有效，无法在 <code>app.json</code> 中设置</td><td align="left"></td></tr><tr><td align="left">usingComponents</td><td align="left">Object</td><td align="left">否</td><td align="left">页面<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jdXN0b20tY29tcG9uZW50Lw==">自定义组件</span>配置</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">1.6.3</span></td></tr><tr><td align="left">initialRenderingCache</td><td align="left">string</td><td align="left"></td><td align="left">页面<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay92aWV3L2luaXRpYWwtcmVuZGVyaW5nLWNhY2hlLmh0bWw=">初始渲染缓存</span>配置，支持 <code>static</code> &#x2F; <code>dynamic</code></td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.11.1</span></td></tr><tr><td align="left">style</td><td align="left">string</td><td align="left">default</td><td align="left">启用新版的组件样式</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.10.2</span></td></tr><tr><td align="left">singlePage</td><td align="left">Object</td><td align="left">否</td><td align="left">单页模式相关配置</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.12.0</span></td></tr><tr><td align="left">restartStrategy</td><td align="left">string</td><td align="left">homePage</td><td align="left">重新启动策略配置</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.8.0</span></td></tr><tr><td align="left">handleWebviewPreload</td><td align="left">string</td><td align="left">static</td><td align="left">控制<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9wZXJmb3JtYW5jZS90aXBzL3J1bnRpbWVfbmF2Lmh0bWwjXzItNC0lRTYlOEUlQTclRTUlODglQjYlRTklQTIlODQlRTUlOEElQTAlRTglQkQlQkQlRTQlQjglOEIlRTQlQjglQUElRTklQTElQjUlRTklOUQlQTIlRTclOUElODQlRTYlOTclQjYlRTYlOUMlQkE=">预加载下个页面的时机</span>。支持 <code>static</code> &#x2F; <code>manual</code> &#x2F; <code>auto</code></td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.15.0</span></td></tr><tr><td align="left">visualEffectInBackground</td><td align="left">string</td><td align="left">否</td><td align="left">切入系统后台时，隐藏页面内容，保护用户隐私。支持 <code>hidden</code> &#x2F; <code>none</code>，若对页面单独设置则会覆盖全局的配置，详见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1s">全局配置</span></td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.15.0</span></td></tr><tr><td align="left">enablePassiveEvent</td><td align="left">Object或boolean</td><td align="left">否</td><td align="left">事件监听是否为 passive，若对页面单独设置则会覆盖全局的配置，详见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9jb25maWd1cmF0aW9uL2FwcC5odG1s">全局配置</span></td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.24.1</span></td></tr></tbody></table><p>&#x2F;&#x2F; pages&#x2F;home&#x2F;home.json</p><pre><code class="json">&#123;
  &quot;navigationBarTitleText&quot;: &quot;嗨购-首页&quot;,
  &quot;usingComponents&quot;: &#123;&#125;
&#125;
</code></pre><h2 id="8-2-WXML模版"><a href="#8-2-WXML模版" class="headerlink" title="8.2 WXML模版"></a>8.2 WXML模版</h2><p>WXML（WeiXin Markup Language）是框架设计的一套标签语言，结合<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2NvbXBvbmVudC8=">基础组件</span>、<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay92aWV3L3d4bWwvZXZlbnQuaHRtbA==">事件系统</span>，可以构建出页面的结构。</p><p>要完整了解 WXML 语法，请参考<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS93eG1sLw==">WXML 语法参考</span>。</p><p>用以下一些简单的例子来看看 WXML 具有什么能力：</p><h2 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h2><pre><code class="vue">&lt;!--wxml--&gt;
&lt;view&gt; &#123;&#123;message&#125;&#125; &lt;/view&gt;
// page.js
Page(&#123;
  data: &#123;
    message: &#39;Hello MINA!&#39;
  &#125;
&#125;)
</code></pre><h2 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h2><pre><code class="vue">&lt;!--wxml--&gt;
&lt;view wx:for=&quot;&#123;&#123;array&#125;&#125;&quot;&gt; &#123;&#123;item&#125;&#125; &lt;/view&gt;
// page.js
Page(&#123;
  data: &#123;
    array: [1, 2, 3, 4, 5]
  &#125;
&#125;)
</code></pre><h2 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h2><pre><code class="vue">&lt;!--wxml--&gt;
&lt;view wx:if=&quot;&#123;&#123;view == 'WEBVIEW'&#125;&#125;&quot;&gt; WEBVIEW &lt;/view&gt;
&lt;view wx:elif=&quot;&#123;&#123;view == 'APP'&#125;&#125;&quot;&gt; APP &lt;/view&gt;
&lt;view wx:else=&quot;&#123;&#123;view == 'MINA'&#125;&#125;&quot;&gt; MINA &lt;/view&gt;
// page.js
Page(&#123;
  data: &#123;
    view: &#39;MINA&#39;
  &#125;
&#125;)
</code></pre><h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><pre><code class="vue">&lt;template name=&quot;staffName&quot;&gt;
  &lt;view&gt;
    FirstName: &#123;&#123;firstName&#125;&#125;, LastName: &#123;&#123;lastName&#125;&#125;
  &lt;/view&gt;
&lt;/template&gt;

&lt;template is=&quot;staffName&quot; data=&quot;&#123;&#123;...staffA&#125;&#125;&quot;&gt;&lt;/template&gt;
&lt;template is=&quot;staffName&quot; data=&quot;&#123;&#123;...staffB&#125;&#125;&quot;&gt;&lt;/template&gt;
&lt;template is=&quot;staffName&quot; data=&quot;&#123;&#123;...staffC&#125;&#125;&quot;&gt;&lt;/template&gt;
</code></pre><p>具体的能力以及使用方式在以下章节查看：</p><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS93eG1sL2RhdGEuaHRtbA==">数据绑定</span>、<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS93eG1sL2xpc3QuaHRtbA==">列表渲染</span>、<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS93eG1sL2NvbmRpdGlvbmFsLmh0bWw=">条件渲染</span>、<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS93eG1sL3RlbXBsYXRlLmh0bWw=">模板</span>、<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS93eG1sL2ltcG9ydC5odG1s">引用</span></p><h3 id="8-2-1-数据绑定"><a href="#8-2-1-数据绑定" class="headerlink" title="8.2.1 数据绑定"></a>8.2.1 数据绑定</h3><p>WXML 中的动态数据均来自对应 Page 的 data。</p><h2 id="简单绑定"><a href="#简单绑定" class="headerlink" title="简单绑定"></a>简单绑定</h2><p>数据绑定使用 Mustache 语法（双大括号）将变量包起来，可以作用于：</p><h3 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h3><pre><code class="vue">&lt;view&gt; &#123;&#123; message &#125;&#125; &lt;/view&gt;
</code></pre><pre><code class="js">Page(&#123;
  data: &#123;
    message: &#39;Hello MINA!&#39;
  &#125;
&#125;)
</code></pre><h3 id="组件属性-需要在双引号之内"><a href="#组件属性-需要在双引号之内" class="headerlink" title="组件属性(需要在双引号之内)"></a>组件属性(需要在双引号之内)</h3><pre><code class="vue">&lt;view id=&quot;item-&#123;&#123;id&#125;&#125;&quot;&gt; &lt;/view&gt;
</code></pre><pre><code class="js">Page(&#123;
  data: &#123;
    id: 0
  &#125;
&#125;)
</code></pre><h3 id="控制属性-需要在双引号之内"><a href="#控制属性-需要在双引号之内" class="headerlink" title="控制属性(需要在双引号之内)"></a>控制属性(需要在双引号之内)</h3><pre><code class="vue">&lt;view wx:if=&quot;&#123;&#123;condition&#125;&#125;&quot;&gt; &lt;/view&gt;
</code></pre><pre><code class="js">Page(&#123;
  data: &#123;
    condition: true
  &#125;
&#125;)
</code></pre><h3 id="关键字-需要在双引号之内"><a href="#关键字-需要在双引号之内" class="headerlink" title="关键字(需要在双引号之内)"></a>关键字(需要在双引号之内)</h3><p><code>true</code>：boolean 类型的 true，代表真值。</p><p><code>false</code>： boolean 类型的 false，代表假值。</p><pre><code class="html">&lt;checkbox checked=&quot;&#123;&#123;false&#125;&#125;&quot;&gt; &lt;/checkbox&gt;
</code></pre><p><em><strong>特别注意：不要直接写 <code>checked=&quot;false&quot;</code>，其计算结果是一个字符串，转成 boolean 类型后代表真值。</strong></em></p><h2 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h2><p>可以在 <code>&#123;&#123;&#125;&#125;</code> 内进行简单的运算，支持的有如下几种方式：</p><h3 id="三元运算"><a href="#三元运算" class="headerlink" title="三元运算"></a>三元运算</h3><pre><code class="vue">&lt;view hidden=&quot;&#123;&#123;flag ? true : false&#125;&#125;&quot;&gt; Hidden &lt;/view&gt;
</code></pre><h3 id="算数运算"><a href="#算数运算" class="headerlink" title="算数运算"></a>算数运算</h3><pre><code class="vue">&lt;view&gt; &#123;&#123;a + b&#125;&#125; + &#123;&#123;c&#125;&#125; + d &lt;/view&gt;
</code></pre><pre><code class="js">Page(&#123;
  data: &#123;
    a: 1,
    b: 2,
    c: 3
  &#125;
&#125;)
</code></pre><p>view中的内容为 <code>3 + 3 + d</code>。</p><h3 id="逻辑判断"><a href="#逻辑判断" class="headerlink" title="逻辑判断"></a>逻辑判断</h3><pre><code class="vue">&lt;view wx:if=&quot;&#123;&#123;length > 5&#125;&#125;&quot;&gt; &lt;/view&gt;
</code></pre><h3 id="字符串运算"><a href="#字符串运算" class="headerlink" title="字符串运算"></a>字符串运算</h3><pre><code class="vue">&lt;view&gt;&#123;&#123;"hello" + name&#125;&#125;&lt;/view&gt;
</code></pre><pre><code class="javascript">Page(&#123;
  data:&#123;
    name: &#39;MINA&#39;
  &#125;
&#125;)
</code></pre><h3 id="数据路径运算"><a href="#数据路径运算" class="headerlink" title="数据路径运算"></a>数据路径运算</h3><pre><code>&lt;view&gt;&#123;&#123;object.key&#125;&#125; &#123;&#123;array[0]&#125;&#125;&lt;/view&gt;
</code></pre><pre><code class="js">Page(&#123;
  data: &#123;
    object: &#123;
      key: &#39;Hello &#39;
    &#125;,
    array: [&#39;MINA&#39;]
  &#125;
&#125;)
</code></pre><h2 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h2><p>也可以在 Mustache 内直接进行组合，构成新的对象或者数组</p><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><pre><code class="html">&lt;view wx:for=&quot;&#123;&#123;[zero, 1, 2, 3, 4]&#125;&#125;&quot;&gt; &#123;&#123;item&#125;&#125; &lt;/view&gt;
</code></pre><pre><code class="js">Page(&#123;
  data: &#123;
    zero: 0
  &#125;
&#125;)
</code></pre><p>最终组合成数组<code>[0, 1, 2, 3, 4]</code>。</p><h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><pre><code class="vue">&lt;template is=&quot;objectCombine&quot; data=&quot;&#123;&#123;for: a, bar: b&#125;&#125;&quot;&gt;&lt;/template&gt;
</code></pre><pre><code class="js">Page(&#123;
  data: &#123;
    a: 1,
    b: 2
  &#125;
&#125;)
</code></pre><p>最终组合成的对象是 <code>&#123;for: 1, bar: 2&#125;</code></p><p>也可以用扩展运算符 <code>...</code> 来将一个对象展开</p><pre><code>&lt;template is=&quot;objectCombine&quot; data=&quot;&#123;&#123;...obj1, ...obj2, e: 5&#125;&#125;&quot;&gt;&lt;/template&gt;
</code></pre><pre><code class="js">Page(&#123;
  data: &#123;
    obj1: &#123;
      a: 1,
      b: 2
    &#125;,
    obj2: &#123;
      c: 3,
      d: 4
    &#125;
  &#125;
&#125;)
</code></pre><p>最终组合成的对象是 <code>&#123;a: 1, b: 2, c: 3, d: 4, e: 5&#125;</code>。</p><p>如果对象的 key 和 value 相同，也可以间接地表达。</p><pre><code class="vue">&lt;template is=&quot;objectCombine&quot; data=&quot;&#123;&#123;foo, bar&#125;&#125;&quot;&gt;&lt;/template&gt;
</code></pre><pre><code class="js">Page(&#123;
  data: &#123;
    foo: &#39;my-foo&#39;,
    bar: &#39;my-bar&#39;
  &#125;
&#125;)
</code></pre><p>最终组合成的对象是 <code>&#123;foo: &#39;my-foo&#39;, bar:&#39;my-bar&#39;&#125;</code>。</p><p><strong>注意</strong>：上述方式可以随意组合，但是如有存在变量名相同的情况，后边的会覆盖前面，如：</p><pre><code class="vue">&lt;template is=&quot;objectCombine&quot; data=&quot;&#123;&#123;...obj1, ...obj2, a, c: 6&#125;&#125;&quot;&gt;&lt;/template&gt;
Page(&#123;
  data: &#123;
    obj1: &#123;
      a: 1,
      b: 2
    &#125;,
    obj2: &#123;
      b: 3,
      c: 4
    &#125;,
    a: 5
  &#125;
&#125;)
</code></pre><p>最终组合成的对象是 <code>&#123;a: 5, b: 3, c: 6&#125;</code>。</p><p><strong>注意：</strong> 花括号和引号之间如果有空格，将最终被解析成为字符串</p><pre><code class="vue">&lt;view wx:for=&quot;&#123;&#123;[1,2,3]&#125;&#125; &quot;&gt;
  &#123;&#123;item&#125;&#125;
&lt;/view&gt;
</code></pre><p>等同于</p><pre><code class="vue">&lt;view wx:for=&quot;&#123;&#123;[1,2,3] + ' '&#125;&#125;&quot;&gt;
  &#123;&#123;item&#125;&#125;
&lt;/view&gt;
</code></pre><h2 id="8-3-WXSS-样式"><a href="#8-3-WXSS-样式" class="headerlink" title="8.3 WXSS 样式"></a>8.3 WXSS 样式</h2><p><code>WXSS</code> 具有 <code>CSS</code> 大部分的特性，小程序在 <code>WXSS</code> 也做了一些扩充和修改</p><ol><li>新增了尺寸单位。在写 <code>CSS</code> 样式时，开发者需要考虑到手机设备的屏幕会有不同的宽度和设备像素比，采用一些技巧来换算一些像素单位。<code>WXSS</code> 在底层支持新的尺寸单位 <code>rpx</code> ，开发者可以免去换算的烦恼，只要交给小程序底层来换算即可，由于换算采用的浮点数运算，所以运算结果会和预期结果有一点点偏差。</li><li>提供了全局的样式和局部样式。和前边 <code>app.json</code>, <code>page.json</code> 的概念相同，你可以写一个 <code>app.wxss</code> 作为全局样式，会作用于当前小程序的所有页面，局部页面样式 <code>page.wxss</code> 仅对当前页面生效。</li><li>此外 <code>WXSS</code> 仅支持部分 <code>CSS</code> 选择器</li></ol><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay92aWV3L3d4c3MuaHRtbA==">https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html</span></p><ul><li>rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx。如在 iPhone6 上，屏幕宽度为375px，共有750个物理像素，则750rpx &#x3D; 375px &#x3D; 750物理像素，1rpx &#x3D; 0.5px &#x3D; 1物理像素。</li></ul><table><thead><tr><th align="left">设备</th><th align="left">rpx换算px (屏幕宽度&#x2F;750)</th><th align="left">px换算rpx (750&#x2F;屏幕宽度)</th></tr></thead><tbody><tr><td align="left">iPhone5</td><td align="left">1rpx &#x3D; 0.42px</td><td align="left">1px &#x3D; 2.34rpx</td></tr><tr><td align="left">iPhone6</td><td align="left">1rpx &#x3D; 0.5px</td><td align="left">1px &#x3D; 2rpx</td></tr><tr><td align="left">iPhone6 Plus</td><td align="left">1rpx &#x3D; 0.552px</td><td align="left">1px &#x3D; 1.81rpx</td></tr></tbody></table><p><strong>建议：</strong> 开发微信小程序时设计师可以用 iPhone6 作为视觉稿的标准。</p><blockquote><p>假如设计是给我们的设计稿，打开以后，发现 设计稿的宽度是 750px，那么我们在wxss中写宽度和高度时，可以直接写量取的数据，单位 rpx</p><p>如果设计师给的设计稿为375px，假设量取的宽度为100px，那么建议将wxss的单位写为 200rpx</p></blockquote><p><strong>注意：</strong> 在较小的屏幕上不可避免的会有一些毛刺，请在开发时尽量避免这种情况。</p><h2 id="8-4-js逻辑交互"><a href="#8-4-js逻辑交互" class="headerlink" title="8.4 js逻辑交互"></a>8.4 js逻辑交互</h2><h3 id="8-4-1-什么是事件"><a href="#8-4-1-什么是事件" class="headerlink" title="8.4.1 什么是事件"></a>8.4.1 什么是事件</h3><ul><li>事件是视图层到逻辑层的通讯方式。</li><li>事件可以将用户的行为反馈到逻辑层进行处理。</li><li>事件可以绑定在组件上，当达到触发事件，就会执行逻辑层中对应的事件处理函数。</li><li>事件对象可以携带额外信息，如 id, dataset, touches。</li></ul><blockquote><p>切记，自定义的事件是需要写到 js中的 选项中的</p></blockquote><h3 id="8-4-2-如何给事件传递参数"><a href="#8-4-2-如何给事件传递参数" class="headerlink" title="8.4.2 如何给事件传递参数"></a>8.4.2 如何给事件传递参数</h3><blockquote><p>传递参数时，id具有特殊性，其余数据通过 data-params 属性传值</p></blockquote><h3 id="8-4-3-冒泡"><a href="#8-4-3-冒泡" class="headerlink" title="8.4.3 冒泡"></a>8.4.3 冒泡</h3><blockquote><p>biantap并不会阻止事件冒泡</p><p>catchtap 会阻止冒泡</p></blockquote><pre><code class="js">// pages/test/test.ts
Page(&#123;
  data: &#123;
    message: &quot;&lt;mark&gt;&lt;i&gt;hello minpro&lt;/i&gt;&lt;/mark&gt;&quot;,
    list: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;],
    arr: [
      &#123; id: 1, name: &#39;曹喜龙&#39; &#125;,
      &#123; id: 2, name: &#39;段泽楷&#39; &#125;,
      &#123; id: 3, name: &#39;王喜珍&#39; &#125;
    ],
    cars: [
      &#123;
        brand: &#39;奔驰&#39;,
        list: [ &#39;大G&#39;, &#39;c260&#39; ]
      &#125;,
      &#123;
        brand: &#39;宝马&#39;,
        list: [ &#39;X1&#39;, &#39;X3&#39; ]
      &#125;
    ],
    name: &#39;&#39;,
    obj: &#123;
      index: &#39;0&#39;,
      msg: &#39;vue&#39;,
      time: &#39;00&#39;
    &#125;,
    msg: &#39;&#39;,
    address: &quot;1&quot;,
    latitude: 34.218172,
    longitude: 108.875866,
    company: &quot;2&quot;,
    img: &#39;/resources/avatar.png&#39;
  &#125;,
  // changeName (event: &#123; detail: &#123;value: string &#125;&#125;) &#123;
  changeName (event: WechatMiniprogram.CustomEvent) &#123;
    console.log(event)
    this.setData(&#123;
      name: event.detail.value
    &#125;)
  &#125;,
  changeMsg () &#123;
    this.setData(&#123;
      msg: &#39;hello 小程序&#39;
    &#125;)
  &#125;,
  changeMsgOfParams (event: WechatMiniprogram.BaseEvent ) &#123;
    this.setData(&#123;
      msg: event.target.dataset.str
    &#125;)
  &#125;,
  chooseLocation () &#123;
    console.log(11111)
    wx.chooseLocation(&#123;
      success: (res) =&gt; &#123;
        console.log(res)
        this.setData(&#123;
          address: res.address,
          latitude: res.latitude,
          longitude: res.longitude,
          company: res.name
        &#125;)
      &#125;
    &#125;)
    // wx.chooseLocation(&#123;&#125;).then(res =&gt; &#123;
    //   console.log(res)
    // &#125;)
  &#125;,
  openLocation () &#123;
    wx.openLocation(&#123;
      latitude: this.data.latitude,
      longitude: this.data.longitude,
      scale: 18
    &#125;)
  &#125;,
  changeAvatar () &#123;
    wx.chooseMedia(&#123;
      count: 9,
      mediaType: [&#39;image&#39;],
      sourceType: [&#39;album&#39;, &#39;camera&#39;],
      maxDuration: 30,
      camera: &#39;back&#39;,
      success: (res) =&gt; &#123;
        console.log(res.tempFiles[0].tempFilePath)
        this.setData(&#123;
          img: res.tempFiles[0].tempFilePath
        &#125;)
      &#125;
    &#125;)
  &#125;
&#125;)
</code></pre><h1 id="9-小程序的宿主环境"><a href="#9-小程序的宿主环境" class="headerlink" title="9.小程序的宿主环境"></a>9.小程序的宿主环境</h1><h2 id="9-1-渲染层和逻辑层"><a href="#9-1-渲染层和逻辑层" class="headerlink" title="9.1 渲染层和逻辑层"></a>9.1 渲染层和逻辑层</h2><p>WXML 模板和 WXSS 样式工作在渲染层</p><p>JS 脚本工作在逻辑层</p><h3 id="9-1-1-注册小程序"><a href="#9-1-1-注册小程序" class="headerlink" title="9.1.1 注册小程序"></a>9.1.1 注册小程序</h3><p>每个小程序都需要在 <code>app.js</code> 中调用 <code>App</code> 方法注册小程序实例，绑定生命周期回调函数、错误监听和页面不存在监听函数等</p><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvQXBwLmh0bWw=">https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html</span></p><p>注册小程序。接受一个 <code>Object</code> 参数，其指定小程序的生命周期回调等。</p><p><strong>App() 必须在 <code>app.js</code> 中调用，必须调用且只能调用一次。不然会出现无法预期的后果。</strong></p><table><thead><tr><th align="left">属性</th><th align="left">类型</th><th align="left">默认值</th><th align="left">必填</th><th align="left">说明</th><th align="left">最低版本</th></tr></thead><tbody><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvQXBwLmh0bWwjb25MYXVuY2gtT2JqZWN0LW9iamVjdA==">onLaunch</span></td><td align="left">function</td><td align="left"></td><td align="left">否</td><td align="left">生命周期回调——监听小程序初始化。</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvQXBwLmh0bWwjb25TaG93LU9iamVjdC1vYmplY3Q=">onShow</span></td><td align="left">function</td><td align="left"></td><td align="left">否</td><td align="left">生命周期回调——监听小程序启动或切前台。</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvQXBwLmh0bWwjb25IaWRl">onHide</span></td><td align="left">function</td><td align="left"></td><td align="left">否</td><td align="left">生命周期回调——监听小程序切后台。</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvQXBwLmh0bWwjb25FcnJvci1TdHJpbmctZXJyb3I=">onError</span></td><td align="left">function</td><td align="left"></td><td align="left">否</td><td align="left">错误监听函数。</td><td align="left"></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvQXBwLmh0bWwjb25QYWdlTm90Rm91bmQtT2JqZWN0LW9iamVjdA==">onPageNotFound</span></td><td align="left">function</td><td align="left"></td><td align="left">否</td><td align="left">页面不存在监听函数。</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">1.9.90</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvQXBwLmh0bWwjb25VbmhhbmRsZWRSZWplY3Rpb24tT2JqZWN0LW9iamVjdA==">onUnhandledRejection</span></td><td align="left">function</td><td align="left"></td><td align="left">否</td><td align="left">未处理的 Promise 拒绝事件监听函数。</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.10.0</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvQXBwLmh0bWwjb25UaGVtZUNoYW5nZS1PYmplY3Qtb2JqZWN0">onThemeChange</span></td><td align="left">function</td><td align="left"></td><td align="left">否</td><td align="left">监听系统主题变化</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.11.0</span></td></tr><tr><td align="left">其他</td><td align="left">any</td><td align="left"></td><td align="left">否</td><td align="left">开发者可以添加任意的函数或数据变量到 <code>Object</code> 参数中，用 <code>this</code> 可以访问</td><td align="left"></td></tr></tbody></table><pre><code class="js">// app.js
// app.js
App(&#123;
  onLaunch() &#123;
    console.log(&#39;onLaunch&#39;)
    // 展示本地存储能力
    const logs = wx.getStorageSync(&#39;logs&#39;) || []
    logs.unshift(Date.now())
    wx.setStorageSync(&#39;logs&#39;, logs)

    // 登录
    wx.login(&#123;
      success: res =&gt; &#123;
        // 发送 res.code 到后台换取 openId, sessionKey, unionId
      &#125;
    &#125;)
  &#125;,
  // 其他
  globalData: &#123;
    userInfo: null
  &#125;,
  onShow () &#123;
    console.log(&#39;onShow&#39;)
  &#125;,
  onHide () &#123;
    console.log(&#39;onHide&#39;)
  &#125;,
  onError () &#123;
    console.log(&#39;onError&#39;)
  &#125;
&#125;)
</code></pre><h3 id="9-1-2-注册页面"><a href="#9-1-2-注册页面" class="headerlink" title="9.1.2 注册页面"></a>9.1.2 注册页面</h3><p>对于小程序中的每个页面，都需要在页面对应的 <code>js</code> 文件中进行注册，指定页面的初始数据、生命周期回调、事件处理函数等。</p><table><thead><tr><th align="left">属性</th><th align="left">类型</th><th align="left">默认值</th><th align="left">必填</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI2RhdGE=">data</span></td><td align="left">Object</td><td align="left"></td><td align="left"></td><td align="left">页面的初始数据</td></tr><tr><td align="left">options</td><td align="left">Object</td><td align="left"></td><td align="left"></td><td align="left">页面的组件选项，同 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Component.html"><code>Component</code> 构造器</a> 中的 <code>options</code> ，需要基础库版本 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.10.1</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jdXN0b20tY29tcG9uZW50L2JlaGF2aW9ycy5odG1s">behaviors</span></td><td align="left">String Array</td><td align="left"></td><td align="left"></td><td align="left">类似于 mixins 和traits的组件间代码复用机制，参见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jdXN0b20tY29tcG9uZW50L2JlaGF2aW9ycy5odG1s">behaviors</span>，需要基础库版本 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.9.2</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uTG9hZC1PYmplY3QtcXVlcnk=">onLoad</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">生命周期回调—监听页面加载</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uU2hvdw==">onShow</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">生命周期回调—监听页面显示</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uUmVhZHk=">onReady</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">生命周期回调—监听页面初次渲染完成</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uSGlkZQ==">onHide</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">生命周期回调—监听页面隐藏</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uVW5sb2Fk">onUnload</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">生命周期回调—监听页面卸载</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uUHVsbERvd25SZWZyZXNo">onPullDownRefresh</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">监听用户下拉动作</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uUmVhY2hCb3R0b20=">onReachBottom</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">页面上拉触底事件的处理函数</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uU2hhcmVBcHBNZXNzYWdlLU9iamVjdC1vYmplY3Q=">onShareAppMessage</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">用户点击右上角转发</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uU2hhcmVUaW1lbGluZQ==">onShareTimeline</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">用户点击右上角转发到朋友圈</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uQWRkVG9GYXZvcml0ZXMtT2JqZWN0LW9iamVjdA==">onAddToFavorites</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">用户点击右上角收藏</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uUGFnZVNjcm9sbC1PYmplY3Qtb2JqZWN0">onPageScroll</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">页面滚动触发事件的处理函数</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uUmVzaXplLU9iamVjdC1vYmplY3Q=">onResize</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">页面尺寸改变时触发，详见 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay92aWV3L3Jlc2l6YWJsZS5odG1sIyVFNSU5QyVBOCVFNiU4OSU4QiVFNiU5QyVCQSVFNCVCOCU4QSVFNSU5MCVBRiVFNyU5NCVBOCVFNSVCMSU4RiVFNSVCOSU5NSVFNiU5NyU4QiVFOCVCRCVBQyVFNiU5NCVBRiVFNiU4QyU4MQ==">响应显示区域变化</span></td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uVGFiSXRlbVRhcC1PYmplY3Qtb2JqZWN0">onTabItemTap</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">当前是 tab 页时，点击 tab 时触发</td></tr><tr><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvUGFnZS5odG1sI29uU2F2ZUV4aXRTdGF0ZQ==">onSaveExitState</span></td><td align="left">function</td><td align="left"></td><td align="left"></td><td align="left">页面销毁前保留状态回调</td></tr><tr><td align="left">其他</td><td align="left">any</td><td align="left"></td><td align="left"></td><td align="left">开发者可以添加任意的函数或数据到 <code>Object</code> 参数中，在页面的函数中用 <code>this</code> 可以访问。<strong>这部分属性会在页面实例创建时进行一次深拷贝</strong>。</td></tr></tbody></table><h3 id="9-1-3页面路由"><a href="#9-1-3页面路由" class="headerlink" title="9.1.3页面路由"></a>9.1.3页面路由</h3><ul><li><p>编程式导航路由</p><ul><li><p>wx.switchTab({}) 跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面</p></li><li><p>wx.reLaunch({}) 关闭所有页面，打开到应用内的某个页面</p></li><li><p>wx.redirectTo({}) 关闭当前页面，跳转到应用内的某个页面。但是不允许跳转到 tabbar 页面</p></li><li><p>wx.navigateTo({}) 保留当前页面，跳转到应用内的某个页面。但是不能跳到 tabbar 页面。使用 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS9yb3V0ZS93eC5uYXZpZ2F0ZUJhY2suaHRtbA==">wx.navigateBack</span> 可以返回到原页面。小程序中页面栈最多十层。</p></li><li><p>wx.navigateBack({}) 关闭当前页面，返回上一页面或多级页面。可通过 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L3JlZmVyZW5jZS9hcGkvZ2V0Q3VycmVudFBhZ2VzLmh0bWw=">getCurrentPages</span> 获取当前的页面栈，决定需要返回几层</p></li></ul></li><li><p>声明式导航路由</p></li></ul><p><code>&lt;navigator url=&quot;&quot; open-type=&quot;&quot;&gt;&lt;/navigator&gt;</code></p><p>下面为open-type的属性值</p><table><thead><tr><th align="left">合法值</th><th align="left">说明</th><th align="left">最低版本</th></tr></thead><tbody><tr><td align="left">navigate</td><td align="left">对应 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS9yb3V0ZS93eC5uYXZpZ2F0ZVRvLmh0bWw=">wx.navigateTo</span> 或 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS9uYXZpZ2F0ZS93eC5uYXZpZ2F0ZVRvTWluaVByb2dyYW0uaHRtbA==">wx.navigateToMiniProgram</span> 的功能</td><td align="left"></td></tr><tr><td align="left">redirect</td><td align="left">对应 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS9yb3V0ZS93eC5yZWRpcmVjdFRvLmh0bWw=">wx.redirectTo</span> 的功能</td><td align="left"></td></tr><tr><td align="left">switchTab</td><td align="left">对应 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS9yb3V0ZS93eC5zd2l0Y2hUYWIuaHRtbA==">wx.switchTab</span> 的功能</td><td align="left"></td></tr><tr><td align="left">reLaunch</td><td align="left">对应 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS9yb3V0ZS93eC5yZUxhdW5jaC5odG1s">wx.reLaunch</span> 的功能</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">1.1.0</span></td></tr><tr><td align="left">navigateBack</td><td align="left">对应 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS9yb3V0ZS93eC5uYXZpZ2F0ZUJhY2suaHRtbA==">wx.navigateBack</span> 的功能</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">1.1.0</span></td></tr><tr><td align="left">exit</td><td align="left">退出小程序，<code>target=&quot;miniProgram&quot;</code>时生效</td><td align="left"><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jb21wYXRpYmlsaXR5Lmh0bWw=">2.1.0</span></td></tr></tbody></table><h3 id="9-1-4-模块化"><a href="#9-1-4-模块化" class="headerlink" title="9.1.4 模块化"></a>9.1.4 模块化</h3><p>可以将一些公共的代码抽离成为一个单独的 js 文件，作为一个模块。</p><ul><li>方式1:使用commonjs规范，模块只有通过 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/module.html"><code>module.exports</code></a> 或者 <code>exports</code> 才能对外暴露接口。</li></ul><pre><code class="js">// pages/test/common.js
function sayHello(name) &#123;
  console.log(`Hello $&#123;name&#125; !`)
&#125;
function sayGoodbye(name) &#123;
  console.log(`Goodbye $&#123;name&#125; !`)
&#125;

module.exports.sayHello = sayHello
exports.sayGoodbye = sayGoodbye
</code></pre><pre><code class="js">// pages/test/test.js
var common = require(&#39;common.js&#39;)
Page(&#123;
  ...,
 onLoad () &#123;
  common.sayHello(&#39;千锋教育&#39;)
  common.sayGoodbye(&#39;吴大勋&#39;)
 &#125;,
  ...
&#125;)
</code></pre><ul><li>方式2:使用es6模块化规范</li></ul><pre><code class="js">// pages/test/es6md.js
export function sayHello(name) &#123;
  console.log(`Hello $&#123;name&#125; !`)
&#125;
export function sayGoodbye(name) &#123;
  console.log(`Goodbye $&#123;name&#125; !`)
&#125;
</code></pre><pre><code class="js">// pages/test/test.js
import &#123; sayHello, sayGoodbye &#125; from &#39;./es6md&#39;
Page(&#123;
 ...,
 onLoad () &#123;
  sayHello(&#39;千锋教育 - 太原&#39;)
    sayGoodbye(&#39;吴大勋 - HTML5&#39;)
 &#125;,
    ...
&#125;)
</code></pre><h2 id="9-2-组件"><a href="#9-2-组件" class="headerlink" title="9.2 组件"></a>9.2 组件</h2><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2NvbXBvbmVudC8=">https://developers.weixin.qq.com/miniprogram/dev/component/</span></p><p>搭建小程序页面时，参照组件篇章</p><p>通过给<code>app.json</code>的pages选项添加<code>pages/com/com</code>测试小程序的常用组件</p><h2 id="9-3-API"><a href="#9-3-API" class="headerlink" title="9.3 API"></a>9.3 API</h2><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2FwaS8=">https://developers.weixin.qq.com/miniprogram/dev/api/</span></p><p>通过小程序调用微信的功能时，参照API章节</p><p>通过给<code>app.json</code>的pages选项添加<code>pages/api/api</code>测试小程序的常用组件</p><h1 id="10小程序的自定义组件"><a href="#10小程序的自定义组件" class="headerlink" title="10小程序的自定义组件"></a>10小程序的自定义组件</h1><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLndlaXhpbi5xcS5jb20vbWluaXByb2dyYW0vZGV2L2ZyYW1ld29yay9jdXN0b20tY29tcG9uZW50Lw==">https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/</span></p><div class="tags"><a href="/tags/wxapp/" rel="tag"><i class="ic i-tag"></i> wxapp</a> <a href="/tags/ts/" rel="tag"><i class="ic i-tag"></i> ts</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-11-02 21:03:23" itemprop="dateModified" datetime="2022-11-02T21:03:23+08:00">2022-11-02</time> </span><span id="wx-app/day2/" class="item leancloud_visitors" data-flag-title="微信小程序学习第二天" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 联系我</button><p>来交朋友吧！</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="叶星辰 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="叶星辰 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="叶星辰 QQ"><p>QQ</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>叶星辰 <i class="ic i-at"><em>@</em></i>永不陨落的星辰</li><li class="link"><strong>本文链接：</strong> <a href="https://www.yexingcheng.com/wx-app/day2/" title="微信小程序学习第二天">https://www.yexingcheng.com/wx-app/day2/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/Screeps/action1/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclffsa1cj20zk0m811l.jpg" title="screeps日记 part1"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> screeps</span><h3>screeps日记 part1</h3></a></div><div class="item right"><a href="/wx-app/day3/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipewf5l51j20zk0m8b29.jpg" title="构建电商界面的小程序（一）"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 微信小程序</span><h3>构建电商界面的小程序（一）</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#8-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E7%9A%84%E6%9E%84%E6%88%90"><span class="toc-number">1.</span> <span class="toc-text">8.小程序代码的构成</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#8-1-JSON%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">8.1 JSON配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-1-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E9%85%8D%E7%BD%AE-app-json"><span class="toc-number">1.1.1.</span> <span class="toc-text">8.1.1 小程序的配置 app.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-2-%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE-project-config-json"><span class="toc-number">1.1.2.</span> <span class="toc-text">8.1.2 工具配置 project.config.json</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.</span> <span class="toc-text">项目配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E5%AD%97%E6%AE%B5"><span class="toc-number">1.3.</span> <span class="toc-text">一级字段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#compileType"><span class="toc-number">1.3.1.</span> <span class="toc-text">compileType</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#setting"><span class="toc-number">1.3.2.</span> <span class="toc-text">setting</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#useCompilerPlugins"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">useCompilerPlugins</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#babelSetting"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">babelSetting</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#libVersion"><span class="toc-number">1.3.3.</span> <span class="toc-text">libVersion</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scripts"><span class="toc-number">1.3.4.</span> <span class="toc-text">scripts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#packOptions"><span class="toc-number">1.3.5.</span> <span class="toc-text">packOptions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#debugOptions"><span class="toc-number">1.3.6.</span> <span class="toc-text">debugOptions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#watchOptions"><span class="toc-number">1.3.7.</span> <span class="toc-text">watchOptions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-3-%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE-page-json"><span class="toc-number">1.3.8.</span> <span class="toc-text">8.1.3 页面配置 page.json</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-2-WXML%E6%A8%A1%E7%89%88"><span class="toc-number">1.4.</span> <span class="toc-text">8.2 WXML模版</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number">1.5.</span> <span class="toc-text">数据绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-number">1.6.</span> <span class="toc-text">列表渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-number">1.7.</span> <span class="toc-text">条件渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.8.</span> <span class="toc-text">模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-1-%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number">1.8.1.</span> <span class="toc-text">8.2.1 数据绑定</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%BB%91%E5%AE%9A"><span class="toc-number">1.9.</span> <span class="toc-text">简单绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AE%B9"><span class="toc-number">1.9.1.</span> <span class="toc-text">内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%B1%9E%E6%80%A7-%E9%9C%80%E8%A6%81%E5%9C%A8%E5%8F%8C%E5%BC%95%E5%8F%B7%E4%B9%8B%E5%86%85"><span class="toc-number">1.9.2.</span> <span class="toc-text">组件属性(需要在双引号之内)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%B1%9E%E6%80%A7-%E9%9C%80%E8%A6%81%E5%9C%A8%E5%8F%8C%E5%BC%95%E5%8F%B7%E4%B9%8B%E5%86%85"><span class="toc-number">1.9.3.</span> <span class="toc-text">控制属性(需要在双引号之内)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97-%E9%9C%80%E8%A6%81%E5%9C%A8%E5%8F%8C%E5%BC%95%E5%8F%B7%E4%B9%8B%E5%86%85"><span class="toc-number">1.9.4.</span> <span class="toc-text">关键字(需要在双引号之内)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97"><span class="toc-number">1.10.</span> <span class="toc-text">运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97"><span class="toc-number">1.10.1.</span> <span class="toc-text">三元运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-number">1.10.2.</span> <span class="toc-text">算数运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E5%88%A4%E6%96%AD"><span class="toc-number">1.10.3.</span> <span class="toc-text">逻辑判断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%90%E7%AE%97"><span class="toc-number">1.10.4.</span> <span class="toc-text">字符串运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%B7%AF%E5%BE%84%E8%BF%90%E7%AE%97"><span class="toc-number">1.10.5.</span> <span class="toc-text">数据路径运算</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E5%90%88"><span class="toc-number">1.11.</span> <span class="toc-text">组合</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.11.1.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.11.2.</span> <span class="toc-text">对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-3-WXSS-%E6%A0%B7%E5%BC%8F"><span class="toc-number">1.12.</span> <span class="toc-text">8.3 WXSS 样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-4-js%E9%80%BB%E8%BE%91%E4%BA%A4%E4%BA%92"><span class="toc-number">1.13.</span> <span class="toc-text">8.4 js逻辑交互</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-1-%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.13.1.</span> <span class="toc-text">8.4.1 什么是事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-2-%E5%A6%82%E4%BD%95%E7%BB%99%E4%BA%8B%E4%BB%B6%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="toc-number">1.13.2.</span> <span class="toc-text">8.4.2 如何给事件传递参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-3-%E5%86%92%E6%B3%A1"><span class="toc-number">1.13.3.</span> <span class="toc-text">8.4.3 冒泡</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%AE%BF%E4%B8%BB%E7%8E%AF%E5%A2%83"><span class="toc-number">2.</span> <span class="toc-text">9.小程序的宿主环境</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#9-1-%E6%B8%B2%E6%9F%93%E5%B1%82%E5%92%8C%E9%80%BB%E8%BE%91%E5%B1%82"><span class="toc-number">2.1.</span> <span class="toc-text">9.1 渲染层和逻辑层</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-1-%E6%B3%A8%E5%86%8C%E5%B0%8F%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.1.1.</span> <span class="toc-text">9.1.1 注册小程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-2-%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2"><span class="toc-number">2.1.2.</span> <span class="toc-text">9.1.2 注册页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-3%E9%A1%B5%E9%9D%A2%E8%B7%AF%E7%94%B1"><span class="toc-number">2.1.3.</span> <span class="toc-text">9.1.3页面路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-4-%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">2.1.4.</span> <span class="toc-text">9.1.4 模块化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-2-%E7%BB%84%E4%BB%B6"><span class="toc-number">2.2.</span> <span class="toc-text">9.2 组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-3-API"><span class="toc-number">2.3.</span> <span class="toc-text">9.3 API</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">10小程序的自定义组件</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/wx-app/day1/" rel="bookmark" title="微信小程序学习第一天">微信小程序学习第一天</a></li><li class="active"><a href="/wx-app/day2/" rel="bookmark" title="微信小程序学习第二天">微信小程序学习第二天</a></li><li><a href="/wx-app/day3/" rel="bookmark" title="构建电商界面的小程序（一）">构建电商界面的小程序（一）</a></li><li><a href="/wx-app/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BC%80%E5%8F%91/" rel="bookmark" title="微信公众号的开发">微信公众号的开发</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="叶星辰" data-src="/images/avatar.jpg"><p class="name" itemprop="name">叶星辰</p><div class="description" itemprop="description">温柔正确的人总是难以生存，因为这个世界既不温柔 也不正确</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">39</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">7</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">17</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0NhMW1EMHduMQ==" title="https:&#x2F;&#x2F;github.com&#x2F;Ca1mD0wn1"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS9VZmRIbw==" title="https:&#x2F;&#x2F;twitter.com&#x2F;UfdHo"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS9tZW5nLXhpbmcteW91LWppLXNpLXl1ZS1odWFuZy0yNw==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;meng-xing-you-ji-si-yue-huang-27"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPTUwMjkxOTQ0NQ==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;502919445"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20vdS83NTc4MjU1ODg1" title="https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;7578255885"><i class="ic i-weibo"></i></span> <span class="exturl item email" data-url="aHR0cHM6Ly9tYWlsLmdvb2dsZS5jb20vbWFpbC91LzAvI2luYm94" title="https:&#x2F;&#x2F;mail.google.com&#x2F;mail&#x2F;u&#x2F;0&#x2F;#inbox"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li><li class="item"><a href="/links/" rel="section"><i class="ic i-magic"></i>links</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/Screeps/action1/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/wx-app/day3/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/react%E5%AD%A6%E4%B9%A0/" title="分类于 react学习">react学习</a></div><span><a href="/react-study/react-router-params/" title="React路由传参的几种方式">React路由传参的几种方式</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/vue3%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" title="分类于 vue3移动端项目开发">vue3移动端项目开发</a></div><span><a href="/vue-mobile/13/" title="vue-mobile项目开发流程第十三部分(实现提交订单功能)">vue-mobile项目开发流程第十三部分(实现提交订单功能)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/vue3%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" title="分类于 vue3移动端项目开发">vue3移动端项目开发</a></div><span><a href="/vue-mobile/1/" title="vue-mobile项目开发流程第一部分(项目搭建和技术栈选择)">vue-mobile项目开发流程第一部分(项目搭建和技术栈选择)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/vue3%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" title="分类于 vue3移动端项目开发">vue3移动端项目开发</a></div><span><a href="/vue-mobile/11/" title="vue-mobile项目开发流程第十一部分(实现shopcar功能)">vue-mobile项目开发流程第十一部分(实现shopcar功能)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/interview/" title="分类于 面试用">面试用</a></div><span><a href="/interview/Currying/" title="详解柯里化和反柯里化">详解柯里化和反柯里化</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/react%E5%AD%A6%E4%B9%A0/" title="分类于 react学习">react学习</a></div><span><a href="/react-study/2/" title="React学习第二天">React学习第二天</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/vue3%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" title="分类于 vue3移动端项目开发">vue3移动端项目开发</a></div><span><a href="/vue-mobile/5/" title="vue-mobile项目开发流程第五部分(封装数据请求)">vue-mobile项目开发流程第五部分(封装数据请求)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/vue3%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/" title="分类于 vue3移动端项目开发">vue3移动端项目开发</a></div><span><a href="/vue-mobile/4/" title="vue-mobile项目开发流程第四部分(开始构建项目)">vue-mobile项目开发流程第四部分(开始构建项目)</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" title="分类于 微信小程序">微信小程序</a></div><span><a href="/wx-app/day2/" title="微信小程序学习第二天">微信小程序学习第二天</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" title="分类于 微信小程序">微信小程序</a></div><span><a href="/wx-app/day3/" title="构建电商界面的小程序（一）">构建电商界面的小程序（一）</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2021 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">叶星辰 @ 永不陨落的星辰</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">624k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">9:28</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"wx-app/day2/",favicon:{show:"星辰",hide:"你快回来"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({model:{jsonPath:"/live2dw/assets/miku.model.json"},display:{position:"right",width:250,height:500},mobile:{show:!1},log:!1,pluginJsPath:"lib/",pluginModelPath:"assets/",pluginRootPath:"live2dw/",tagMode:!1})</script></body></html><!-- rebuild by hrmmi -->